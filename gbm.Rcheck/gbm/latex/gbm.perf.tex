\HeaderA{gbm.perf}{GBM performance}{gbm.perf}
\keyword{nonlinear}{gbm.perf}
\keyword{survival}{gbm.perf}
\keyword{nonparametric}{gbm.perf}
\keyword{tree}{gbm.perf}
\begin{Description}\relax
Estimates the optimal number of boosting iterations for a \code{gbm} object and
optionally plots various performance measures
\end{Description}
\begin{Usage}
\begin{verbatim}
gbm.perf(object, 
         plot.it = TRUE, 
         oobag.curve = FALSE, 
         overlay = TRUE, 
         method)
\end{verbatim}
\end{Usage}
\begin{Arguments}
\begin{ldescription}
\item[\code{object}] a \code{\LinkA{gbm.object}{gbm.object}} created from an initial call to 
\code{\LinkA{gbm}{gbm}}.
\item[\code{plot.it}] an indicator of whether or not to plot the performance measures.
Setting \code{plot.it=TRUE} creates two plots. The first plot plots 
\code{object\$train.error} (in black) and \code{object\$valid.error} (in red) 
versus the iteration number. The scale of the error measurement, shown on the 
left vertical axis, depends on the \code{distribution} argument used in the 
initial call to \code{\LinkA{gbm}{gbm}}.
\item[\code{oobag.curve}] indicates whether to plot the out-of-bag performance measures
in a second plot.
\item[\code{overlay}] if TRUE and oobag.curve=TRUE then a right y-axis is added to the 
training and test error plot and the estimated cumulative improvement in the loss 
function is plotted versus the iteration number.
\item[\code{method}] indicate the method used to estimate the optimal number
of boosting iterations. \code{method="OOB"} computes the out-of-bag
estimate and \code{method="test"} uses the test (or validation) dataset 
to compute an out-of-sample estimate. \code{method="cv"} extracts the 
optimal number of iterations using cross-validation if \code{gbm} was called
with \code{cv.folds}>1
\end{ldescription}
\end{Arguments}
\begin{Value}
\code{gbm.perf} returns the estimated optimal number of iterations. The method 
of computation depends on the \code{method} argument.
\end{Value}
\begin{Author}\relax
Greg Ridgeway \email{gregr@rand.org}
\end{Author}
\begin{References}\relax
G. Ridgeway (2003). "A note on out-of-bag estimation for estimating the optimal
number of boosting iterations," a working paper available at
\url{http://www.i-pensieri.com/gregr/gbm.shtml}.
\end{References}
\begin{SeeAlso}\relax
\code{\LinkA{gbm}{gbm}}, \code{\LinkA{gbm.object}{gbm.object}}
\end{SeeAlso}

